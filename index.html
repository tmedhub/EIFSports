<!DOCTYPE html>
<html lang="en">
<head> 
  <meta charset="UTF-8">
<title>EIF Sports Tournament</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
:root {
  --bg: #120c05;
  --accent: #f59e0b;
  --accent2: #fb923c;
  --card: #1f140a;
  --muted: #c9b8a6;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: linear-gradient(160deg, var(--bg), #000);
  color: #fff;
  overflow-x: hidden;
}
header {
  display: flex;
  align-items: center;
  gap: 12px;
  height: 60px;
  padding: 0 16px;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
}
header .logo { height: 32px; }
header h1 {
  font-size: 18px;
  font-weight: 900;
  margin: 0;
  color: #fff;
}
.slider {
  display: flex;
  width: 400vw;
  transition: transform 0.45s ease;
}
.sport {
  width: 100vw;
  min-height: calc(100vh - 60px);
  padding: 16px;
  overflow-y: auto;
}
h2 {
  font-size: 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}
.live { color: #22c55e; font-size: 13px; font-weight: 700; }
.card {
  background: var(--card);
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 12px;
}
.row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}
.score { font-size: 36px; font-weight: 900; color: var(--accent); }
.muted { color: var(--muted); font-size: 13px; }
.divider { height: 1px; background: rgba(255,255,255,0.08); margin: 12px 0; }
.flip {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 18px;
}
.flip-unit {
  background: linear-gradient(180deg, #2a2a2a, #000);
  border-radius: 12px;
  padding: 14px 12px 10px;
  min-width: 60px;
  box-shadow: inset 0 -3px 0 rgba(0,0,0,0.6);
  text-align: center;
}
.flip-num {
  font-size: 28px;
  font-weight: 900;
  color: var(--accent);
  line-height: 1;
}
.flip-label {
  margin-top: 6px;
  font-size: 11px;
  letter-spacing: 1px;
  color: var(--accent);
  opacity: 0.85;
}
.hint {
  text-align: center;
  font-size: 12px;
  opacity: 0.5;
  margin: 8px 0 12px;
}
.goal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48px;
  font-weight: 900;
  color: var(--accent2);
  z-index: 10;
  animation: flash 1s forwards;
}
@keyframes flash {
  0% { opacity: 0; }
  20% { opacity: 1; }
  80% { opacity: 1; }
  100% { opacity: 0; }
}
</style>
</head>
<body>

<header>
  <img src="logo.png" alt="EIF Logo" class="logo">
  <h1>EMS Sports Tournament</h1>
</header>

<div class="slider" id="slider">

  <!-- DODGEBALL -->
  <section class="sport">
    <h2>ü§æ Dodgeball</h2>
    <div class="muted" style="text-align:center;margin-bottom:6px">Next match in‚Ä¶</div>
    <div class="flip" data-start="2026-02-02T12:45:00"></div>
   <div class="card upcoming-matches"></div>
  </section>

  <!-- CRICKET -->
  <section class="sport">
    <h2>üèè Cricket <span class="live">LIVE</span></h2>
    <div class="muted" style="text-align:center;margin-bottom:6px">Next match in‚Ä¶</div>
 <div class="flip" data-start="2026-02-02T12:45:00"></div>
    <div class="card upcoming-matches"></div>
  </section>

  <!-- BASKETBALL -->
  <section class="sport">
    <h2>üèÄ Basketball</h2>
    <div class="muted" style="text-align:center;margin-bottom:6px">Next match in‚Ä¶</div>
      <div class="flip" data-start="2026-02-03T21:00:00"></div>
    <div class="card upcoming-matches"></div>
  </section>

  <!-- FOOTBALL -->
  <section class="sport">
    <h2>‚öΩ Football <span class="live">LIVE</span></h2>
    <div class="muted" style="text-align:center;margin-bottom:6px">Next match in‚Ä¶</div>
     <div class="flip" data-start="2026-02-03T15:00:00"></div>
    <div class="card upcoming-matches"></div>
  </section>

</div>

<div class="hint">Swipe ‚Üí to change sport</div>

<script>
  /************ FLIP COUNTDOWN ************/
function initCountdowns() {
  document.querySelectorAll('.flip').forEach(el => {
    const start = new Date(el.dataset.start).getTime();

    function tick() {
      const now = Date.now();
      let diff = Math.max(0, start - now);

      const days = Math.floor(diff / 86400000);
      diff %= 86400000;
      const hrs = Math.floor(diff / 3600000);
      diff %= 3600000;
      const mins = Math.floor(diff / 60000);
      const secs = Math.floor((diff % 60000) / 1000);

      el.innerHTML = `
        <div class="flip-unit"><div class="flip-num">${String(days).padStart(2,'0')}</div><div class="flip-label">DAYS</div></div>
        <div class="flip-unit"><div class="flip-num">${String(hrs).padStart(2,'0')}</div><div class="flip-label">HOURS</div></div>
        <div class="flip-unit"><div class="flip-num">${String(mins).padStart(2,'0')}</div><div class="flip-label">MINUTES</div></div>
        <div class="flip-unit"><div class="flip-num">${String(secs).padStart(2,'0')}</div><div class="flip-label">SECONDS</div></div>
      `;
    }

    tick();
    setInterval(tick, 1000);
    setInterval(tick,1000);
  });
}
initCountdowns();
/************ SWIPE NAVIGATION ************/
let index=0, startX=0;
const slider=document.getElementById('slider');
document.addEventListener('touchstart',e=>startX=e.touches[0].clientX);
document.addEventListener('touchend',e=>{
  const diff=e.changedTouches[0].clientX-startX;
  if(diff<-50) index++;
  if(diff>50) index--;
  index=Math.max(0,Math.min(index,3));
  slider.style.transform=`translateX(-${index*100}vw)`;
});

************ FOOTBALL GOAL ************/
function showGoal(){
  const g=document.createElement('div');
  g.className='goal';
  g.textContent='GOAL!';
  document.body.appendChild(g);
   setTimeout(()=>g.remove(),1000);
}
  /************ CSV FETCH FOR EACH SPORT ************/
const sportsData = [
  {name:'Dodgeball', url:'https://docs.google.com/spreadsheets/d/e/2PACX-1vREs83uivNg5jSLhsi9fClbjvqAYFpYW4afPM2xSHoeAFJq-b8xjPvdkTR9F4MRrHBAj9ppYEaFsxqu/pub?output=csv', selector:'.sport:nth-of-type(1) .upcoming-matches'},
  {name:'Cricket', url:'https://docs.google.com/spreadsheets/d/e/2PACX-1vQorLqitwUIn1uAWjY9_PKhwRglRW2WlulAuf7kpTG1GN0Z8NKtQombFcU9FkqEUX9ub-z0_rj0hE8j/pub?gid=513380808&single=true&output=csv', selector:'.sport:nth-of-type(2) .upcoming-matches'},
  {name:'Basketball', url:'https://docs.google.com/spreadsheets/d/e/2PACX-1vQorLqitwUIn1uAWjY9_PKhwRglRW2WlulAuf7kpTG1GN0Z8NKtQombFcU9FkqEUX9ub-z0_rj0hE8j/pub?gid=1100929575&single=true&output=csv', selector:'.sport:nth-of-type(3) .upcoming-matches'},
  {name:'Football', url:'https://docs.google.com/spreadsheets/d/e/2PACX-1vQorLqitwUIn1uAWjY9_PKhwRglRW2WlulAuf7kpTG1GN0Z8NKtQombFcU9FkqEUX9ub-z0_rj0hE8j/pub?gid=180472724&single=true&output=csv', selector:'.sport:nth-of-type(4) .upcoming-matches'}
];

function parseCSV(text){
  const lines=text.trim().split('\n');
  const headers=lines.shift().split(',');
  return lines.map(line=>{
    const values=line.split(',');
    let obj={};
    headers.forEach((h,i)=>obj[h.trim()]=values[i]?.trim());
    return obj;
  });
}
async function loadSportMatches(sport){
  try{
    const res=await fetch(sport.url);
    const text=await res.text();
    const data=parseCSV(text);
    const container=document.querySelector(sport.selector);
    container.innerHTML='<strong>Upcoming Matches</strong><div class="divider"></div>';
    container.innerHTML+=data.map(m=>`
      <div class="card" style="margin-bottom:10px">
        <div class="row">
        <strong>${m['Team 1']}</strong>
        span class="muted">vs</span>
        <strong>${m['Team 2']}</strong>
        </div>
           <div class="muted">${m['Date']} ‚Ä¢ ${m['Time']} ‚Ä¢ ${m['Location']}</div>
      </div>
    `).join('');

   }catch(err){
    console.error(`Failed to load ${sport.name}:`,err);
  }
}
  // Initial load + refresh every 60s
sportsData.forEach(loadSportMatches);
setInterval(()=>sportsData.forEach(loadSportMatches),60000);
</script>

</body>
